> ë‚ ì§œ : 2022.11.23

<br />

## ğŸš¨ ë¬¸ì œ ìƒí™©

- ë°±ì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ êµ¬ì¡° ë¶„í•´ í• ë‹¹í•  ë•Œ ê°’ì´ ì½í˜€ì§€ì§€ ì•ŠëŠ” ë¬¸ì œ - <code>Uncaught TypeError: Cannot read properties of undefined (reading '0')</code>

  ```js
  const ReservationPage = () => {
  const [lectureData, setLectureData] = useState({});

  // ë°±ì—ì„œ ìƒí’ˆ ë””í…Œì¼ ë°ì´í„° ìˆ˜ì‹ 
  useEffect(() => {
      fetch(`/data/reservationData.json`, {
      method: 'GET',
      })
      .then(response => response.json())
      .then(data => {
          // console.log(data);
          setLectureData(data);
      });
  }, []);

  if (lectureData === {}) {
      return null;
  }

  // ë°±ì—ì„œ ë°›ì€ ë°ì´í„° ê°ì²´ êµ¬ì¡° ë¶„í•´ í• ë‹¹
  const data = lectureData.data;
  const { lectureId, lectureTitle, lectureText, lecturerName, price, images } =
      data[0];

  ...
  }
  ```

<br /><br />

## ğŸ’¡ ë¬¸ì œ ì›ì¸ ë° í•´ê²° ê³¼ì •

- <strong>ì›ì¸</strong> : ì •í™•í•œ ì´ìœ ëŠ” ëª¨ë¥´ê² ìœ¼ë‚˜, ë³´í†µ ë°±ì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ êµ¬ì¡° ë¶„í•´ í• ë‹¹í•  ë•Œ, ì•„ë˜ì²˜ëŸ¼ ë°°ì—´ì˜ index ê°’ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´ ê°’ì´ ì½í˜€ì§€ì§€ ì•ŠëŠ” ë¬¸ì œê°€ ìƒê¸´ë‹¤ê³  í•œë‹¤. (<code>undefined</code>)

  ```js
  const { lectureId, lectureTitle, lectureText, lecturerName, price, images } =
    data[0];
  ```

<br />

- <strong>í•´ê²°</strong> : ë°±ì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ êµ¬ì¡° ë¶„í•´ í• ë‹¹ ì‹œ indexë¡œ ì ‘ê·¼í•˜ì§€ ì•Šë„ë¡ í•œë‹¤. ë§Œì¼ ê¼­ indexë¡œ ì ‘ê·¼í•´ì•¼ë§Œ í•˜ëŠ” ìƒí™©ì´ë¼ë©´ <strong>setStateì˜ Modifier í•¨ìˆ˜ ì¸ì ë‚´ë¶€ì—ì„œ (indexë¡œ) ì ‘ê·¼í•´ì£¼ë©´ ëœë‹¤.</strong>

  ```js
  const ReservationPage = () => {
    const [lectureData, setLectureData] = useState([]);
    const [reservation, setReservation] = useState('');
    // const lectureId = 2;
    // const { lectureId } = useParams();

    // ë°±ì—ì„œ ìƒí’ˆ ë””í…Œì¼ ë°ì´í„° ìˆ˜ì‹ 
    useEffect(() => {
      fetch(`http://10.58.52.141:3000/lectures/${lectureId}/reservations`, {
        method: 'GET',
      })
        .then(response => response.json())
        .then(data => {
          // console.log(data);
          setLectureData(data.data[0]);
        });
    }, []);

    // ë°±ì—ì„œ ë°›ì€ ë°ì´í„° ê°ì²´ êµ¬ì¡° ë¶„í•´ í• ë‹¹
    const { lectureId, lectureTitle, lectureText, lecturerName, price, images } =
      lectureData;
    console.log(lectureData);

    ...
  }
  ```

<br />

### í•´ë‹¹ ë¬¸ì œëŠ” ì—¬ëŸ¬ ë²ˆ ë‚˜ë¥¼ ê´´ë¡­í˜”ê¸°ì—, <a href="https://sylagape1231.tistory.com/64">ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸</a>ë¡œ ë”°ë¡œ ì‘ì„±ì„ í•´ë‘ì—ˆë‹¤.

<br /><br />
